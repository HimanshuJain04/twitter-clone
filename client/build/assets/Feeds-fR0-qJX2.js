import{r as s,j as e,I as y}from"./index-D89wP-Bh.js";import{T as N,C as v,P as S}from"./Post-erxX0t-N.js";import{f as m,a as F}from"./postService-Bo15xWdl.js";import{P as i}from"./PostSkeleton-DfL_M9xe.js";import"./index-Dkj-mLi3.js";import"./CircularProgress-9x59cZ3H.js";import"./index-C8XlQNJy.js";const r=["For you","Following"],A=()=>{const[h,j]=s.useState(!1),[c,x]=s.useState([]),[p,f]=s.useState(!1),[P,n]=s.useState(!0),[k,u]=s.useState(0),[a,w]=s.useState(r[0]);async function b(t){f(!0);let l;switch(a){case"For you":l=m;break;case"Following":l=F;break;default:l=m;break}l(t).then(({data:o})=>{var d;x(g=>[...g,...o.data]),u(t+1),((d=o==null?void 0:o.data)==null?void 0:d.length)===10?n(!0):n(!1)}).catch(o=>console.log(o)).finally(()=>f(!1))}return s.useEffect(()=>{u(0),x([]),n(!0),b(0)},[a]),e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"flex w-full relative flex-col justify-start items-center bg-",children:[h&&e.jsx(N,{}),e.jsxs("div",{className:"flex sticky  top-0 flex-row justify-between backdrop-blur-2xl w-full border-b-2 border-[white]/[0.19]",children:[r==null?void 0:r.map((t,l)=>e.jsx("div",{className:"flex w-full hover:bg-[white]/[0.1] pt-3 transition-all duration-200 ease-in-out  cursor-pointer justify-center items-center flex-row gap-2",onClick:()=>{w(t)},children:e.jsxs("div",{className:"flex flex-col gap-2 justify-center items-center",children:[e.jsx("p",{className:` transition-all duration-300 ease-in-out ${a===t?"text-white font-bold":"text-[white]/[0.4] font-semibold"} `,children:t}),e.jsx("span",{className:`bg-blue-400 transition-all duration-200 ease-in-out w-full h-1 rounded-full ${a===t?"block":"hidden"} `})]})},l)),e.jsx("div",{className:"hover:bg-[white]/[0.1] transition-all duration-300 ease-in-out text-xl mx-2 text-white px-3 rounded-full flex justify-center items-center cursor-pointer ",children:e.jsx(y,{})})]}),e.jsx("div",{className:"h-[calc(100vh-100px)] w-full bg- overflow-y-auto",children:p?e.jsxs("div",{className:"flex flex-col justify-start gap-5 items-center",children:[e.jsx(i,{}),e.jsx(i,{}),e.jsx(i,{}),e.jsx(i,{}),e.jsx(i,{})]}):e.jsxs(e.Fragment,{children:[a==="For you"&&e.jsx("div",{children:e.jsx(v,{type:"Post",setIsLoading:j})}),e.jsx("div",{className:"w-full  flex mt-5 flex-col gap-5 justify-start items-start",children:c.length>0?c.map(t=>e.jsx(S,{isFeeds:!0,post:t},t==null?void 0:t._id)):e.jsx("div",{className:"w-full mt-10",children:e.jsx("p",{className:"text-white text-center text-4xl font-bold",children:"No post found"})})})]})})]})})};export{A as default};
